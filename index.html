<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>反斗棋</title>
    <script>
        window.onload = function(){
            var oCen = document.getElementById('cen')
            var oTa = document.getElementById('ta')
            var iB = 0
            var iNum = 0
            var sWhite = 'rgb(255, 255, 255)'
            var sBlack = 'rgb(0, 0, 0)'
            var aBtn = []
            for(i = 0;i<5;i++){
                aBtn[i] = []
                for(j = 0;j<5;j++){
                    aBtn[i][j] = document.createElement('li')
                    aBtn[i][j].innerText = 'x:'+i + ' y:' + j
                    aBtn[i][j].setAttribute('x',i)
                    aBtn[i][j].setAttribute('y',j)
                    aBtn[i][j].setAttribute('z',0)
                    aBtn[i][j].addEventListener('click',function(){
                        var ix = parseInt(this.getAttribute('x')) 
                        var iy = parseInt(this.getAttribute('y')) 
                        if(iB === 0){
                                iB = 1
                                fnTurn(ix,iy)
                                if(ix < 4) fnTurn(ix+1,iy)
                                if(ix > 0) fnTurn(ix-1,iy)
                                if(iy < 4) fnTurn(ix,iy+1)
                                if(iy > 0) fnTurn(ix,iy-1)
                                if(iNum === 25) alert('恭喜您，已通关！')
                                iB = 0
                            }

                    })
                    oTa.appendChild(aBtn[i][j])
                }
            }//for i
            function fnTurn(ix,iy){
                let iZ = parseInt(aBtn[ix][iy].getAttribute('z'))
                if(iZ === 1){
                    aBtn[ix][iy].style.backgroundColor = sBlack
                    aBtn[ix][iy].setAttribute('z',0)
                    iNum--
                }
                else if(iZ === 0){
                    aBtn[ix][iy].style.backgroundColor = sWhite
                    aBtn[ix][iy].setAttribute('z',1)
                    iNum++
                }
            }//turn 
            var iDocWi = parseInt(document.documentElement.clientWidth) 
            if(iDocWi < 600){
                let oLi = oTa.getElementsByTagName('li')
                for(xx of oLi) {
                    fnSquare(xx)
                }
            }
            window.addEventListener('resize',()=>{
                if(iDocWi < 600){
                    let oLi = oTa.getElementsByTagName('li')
                    for(xx of oLi) {
                        fnSquare(xx)
                    }
                }
            })
            function fnSquare(Obj){
                var iW = getComputedStyle(Obj,null).getPropertyValue('width')
                Obj.style.height = iW 
            }


        }//onload
    
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
            text-decoration: none;
            text-align: center;
            transition: all 0.3s ease;
        }
        body {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(rgb(8, 8, 71),rgb(0, 0, 0));
        }
        .cen{
            width: 600px;
            background: rgba(0, 0, 0, 0.8);
            position: relative;
        }
        .cen::after,.cen::before{
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(to top right
            ,rgb(70, 140, 115)
            ,rgba(70, 140, 115,0.5)
            ,rgba(166, 28, 28,0.5)
            ,rgb(166, 28, 28));
            z-index: -1;
        }
        .cen::after{
            filter: blur(40px);
            z-index: -2;
        }
        .ta{
            width: 600px;
            overflow: hidden;
        }
        .ta li{
            width: 100px;
            height: 100px;
            margin: 10px;
            line-height: 100px;
            color: green;
            display: inline-block;
            opacity: 0.5;
            background-color: rgb(0, 0, 0);
            
            cursor: pointer;
            overflow: hidden;
        }
        @media(max-width: 600px){
            .cen,.ta{
                width: 98%;
            }
            .ta li{
                width: 18%;
                margin: 1%;
            }
        }
        @media(max-width: 405px){
            .cen,.ta{
                width: 100%;
                min-width: 320px;
            }
            .ta li{
                width: 19.3%;
                margin: 0.3%;
                min-width: 60px;
                min-height: 70px;
            }
        }
    </style>
</head>
<body>
    <div class="cen" id="cen">
        <div class="ta" id="ta"></div>
    </div>
</body>
</html>